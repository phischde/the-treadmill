<header class="site-header" data-observe>
  <div class="site-header__inner">
    <a href="/" class="site-header__brand">
      <span class="site-header__title">{{ site.title }}</span>
      <span class="site-header__tagline">{{ site.tagline }}</span>
    </a>
    <nav class="site-nav" aria-label="Primary">
      <ul>
        {%- set navPages = collections.all | eleventyNavigation %}
        {%- for entry in navPages %}
          <li class="{% if entry.children.length %}has-dropdown{% endif %}">
            {% if entry.children.length %}
              <div class="nav-dropdown-wrapper">
                <a href="{{ entry.url }}" class="nav-link{% if entry.url == page.url %} is-active{% endif %}">{{ entry.title }}</a>
                <a href="#" class="dropdown-trigger" role="button" aria-label="Show {{ entry.title }} submenu"><span>â–¼</span></a>
                <ul class="dropdown-menu">
                  <!-- Parent item as first dropdown entry -->
                  <li><a href="{{ entry.url }}" class="nav-link{% if entry.url == page.url %} is-active{% endif %}">{{ entry.title }}</a></li>
                  {%- for child in entry.children %}
                  <li><a href="{{ child.url }}" class="nav-link{% if child.url == page.url %} is-active{% endif %}">{{ child.title }}</a></li>
                  {%- endfor %}
                </ul>
              </div>
            {% else %}
              <a href="{{ entry.url }}" class="nav-link{% if entry.url == page.url %} is-active{% endif %}">{{ entry.title }}</a>
            {% endif %}
          </li>
        {%- endfor %}
      </ul>
    </nav>
    <button class="font-toggle" type="button" data-font-toggle aria-pressed="false" aria-label="Toggle large typography">
      <span aria-hidden="true">Aa</span>
    </button>
  </div>
  <div class="reading-progress" aria-hidden="true">
    <div class="reading-progress__bar" id="readingProgress"></div>
  </div>
</header>
